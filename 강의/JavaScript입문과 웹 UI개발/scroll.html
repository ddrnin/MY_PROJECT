<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="main.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> 
</head>
<body class="scroll">
		<nav class="navbar">
			<div class="logo">
				dmshop
			</div>
		</nav>
		<div style="height: 2500px;">
		</div>
		<div class="txt_box" style="width: 1000px; height:200px; overflow-y: scroll; ">
			addddddddddddddddddddddddddddddddddddddd    <br> 
			addddddddddddddddddddddddddddddddddddddd     <br>
			addddddddddddddddddddddddddddddddddddddd     <br>
			addddddddddddddddddddddddddddddddddddddd     <br>
			addddddddddddddddddddddddddddddddddddddd     <br>
			addddddddddddddddddddddddddddddddddddddd     <br>
			addddddddddddddddddddddddddddddddddddddd     <br>
		
			addddddddddddddddddddddddddddddddddddddd     <br>
			<br>
			addddddddddddddddddddddddddddddddddddddd     
			addddddddddddddddddddddddddddddddddddddd     <br>
			addddddddddddddddddddddddddddddddddddddd     <br>
			<br>
			addddddddddddddddddddddddddddddddddddddd     
			addddddddddddddddddddddddddddddddddddddd     <br>
			addddddddddddddddddddddddddddddddddddddd     <br>
			<br>
		</div>

		<div class="side_ui">
			<div class="read"></div>
		</div>
		<script>
			$(window).on('scroll', function(){
				if ($(window).scrollTop() > 200){
					$('.logo').css('fontSize', '40px')
				} else {
					$('.logo').css('fontSize', '20px')
				};

				var windowScroll = $(window).scrollTop(); // 스크롤된 위치
				var viewportHeight = $(window).height(); // 뷰포트의 높이 (보이는 높이)
				var documentHeight = $(document).height(); // 전체 문서의 높이
				// documentHeight - viewportHeight = 스크롤 가능한 높이
				var persent = (windowScroll / (documentHeight - viewportHeight)) * 100

				$('.read').css('height', persent + '%');
			});

			$('.txt_box').on('scroll', function(){
				// var clientHeight = document.querySelector('.txt_box').clientHeight;
				// var height = document.querySelector('.txt_box').scrollHeight;
				var boxScroll = $('.txt_box').scrollTop() // 스크롤된 위치 (스크롤 양)
				var viewportHeight = $('.txt_box').height(); // 보이는 높이
				var height = $('.txt_box').prop('scrollHeight'); // 전체 높이
				if(boxScroll + viewportHeight > height - 1){
					console.log(viewportHeight);
					alert('약관에 동의해라');
				};
			});
		</script>
</body>
</html>